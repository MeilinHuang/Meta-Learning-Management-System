{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "Meta LMS CRUD",
    "description": "Meta LMS API",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "host": "localhost:8000",
  "basePath": "/",
  "tags": [
    {
      "name": "Topic Tree",
      "description": "API for Topic Tree feature"
    },
    {
      "name": "Forums",
      "description": "API for Forums feature"
    },
    {
      "name": "Course Pages",
      "description": "API for Course Pages feature"
    },
    {
      "name": "Gamification",
      "description": "API for Gamification feature"
    },
    {
      "name": "Assessment",
      "description": "API for Assessment feature"
    },
    {
      "name": "Lectures and Tutorials",
      "description": "API for Lectures and Tutorials feature"
    }
  ],
  "schemes": ["http"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "paths": {
    "/topicGroup": {
      "get": {
        "tags": ["Topic Tree"],
        "summary": "Get a list of topic groups, their information (tutorial times, course outline) and the Topic they contain",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/GetAllTopicGroups"
            }
          }
        }
      }
    },
    "/topicGroup/{$topicGroupName}/topic": {
      "get": {
        "tags": ["Topic Tree"],
        "summary": "Get list of Topics",
        "parameters": [
          {
            "name": "topicGroupName",
            "in": "path",
            "required": true,
            "description": "Gets topics from topic group name",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/GetAllTopics"
            }
          }
        }
      }
    },
    "/topicGroup/{$topicGroupName}/topic/{$topicName}/prerequisite": {
      "get": {
        "tags": ["Topic Tree"],
        "summary": "Get prerequisites of topic",
        "parameters": [
          {
            "name": "topicGroupName",
            "in": "path",
            "required": true,
            "description": "Name of topic group we want topics for",
            "type": "string"
          },
          {
            "name": "topicName",
            "in": "path",
            "required": true,
            "description": "Name of topic we want pre-requisites for",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/GetPreRequisites"
            }
          }
        }
      },
      "post": {
        "tags": ["Topic Tree"],
        "summary": "Create a new prerequisite with prerequisite in POST body",
        "parameters": [
          {
            "name": "Pre-Requisite",
            "in": "body",
            "description": "Topic with new pre-requisite(s)",
            "schema": {
              "$ref": "#/definitions/Topic"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "delete": {
        "tags": ["Topic Tree"],
        "summary": "Delete prerequisites",
        "parameters": [
          {
            "name": "topicGroupName",
            "in": "path",
            "required": true,
            "description": "Name of topic group we want topics for",
            "type": "string"
          },
          {
            "name": "topicName",
            "in": "path",
            "required": true,
            "description": "Name of topic we want pre-requisites to delete for",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/topicGroup/{$topicGroupName}": {
      "post": {
        "tags": ["Topic Tree"],
        "summary": "Create a topic group",
        "parameters": [
          {
            "name": "TopicGroup",
            "in": "body",
            "description": "New Topic Group",
            "schema": {
              "$ref": "#/definitions/TopicGroup"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          }
        }
      },
      "delete": {
        "tags": ["Topic Tree"],
        "summary": "Delete a topic group",
        "parameters": [
          {
            "name": "topicGroupName",
            "in": "path",
            "required": true,
            "description": "Name of topic group we want to delete",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/topicGroup/{$topicGroupName}/topic/{$topicName}": {
      "post": {
        "tags": ["Topic Tree"],
        "summary": "Create a new topic",
        "parameters": [
          {
            "name": "Topic",
            "in": "body",
            "description": "New Topic",
            "schema": {
              "$ref": "#/definitions/Topic"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Not Found"
          }
        },
        "delete": {
          "tags": ["Topic Tree"],
          "summary": "Delete a topic",
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/Topic"
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "Topic": {
      "properties": {
        "_id": {
          "type": "integer",
          "uniqueItems": true
        },
        "isPublic": {
          "type": "boolean"
        },
        "name": {
          "type": "string",
          "example": "Sorting"
        },
        "courseMaterials": {
          "type": "array",
          "items": {
            "type": "files",
            "example": "lecture3 - bubbleSort.mp4"
          }
        },
        "topicGroups":{
          "type": "array",
          "items": {
            "type": "object",
            "example": "Algorithm"
          }
        },
        "preRequisites": {
          "type": "array",
          "items": {
            "type": "topic",
            "example": "C++ Basics"
          }
        }
      }
    },
    "TopicGroup": {
      "properties": {
        "_id": {
          "type": "integer",
          "uniqueItems": true
        },
        "isPublic": {
          "type": "boolean"
        },
        "name": {
          "type": "string",
          "example": "Algorithms"
        },
        "topics": {
          "type": "array",
          "items": {
            "type": "object",
            "example": "sorting"
          }
        },
        "tutorialTimes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "tutorialCode": {
                "type": "string",
                "example": "M18A2"
              },
              "timeSlot": {
                "type": "dateTime",
                "example": "10:00-11:00"
              },
              "tutor": {
                "type": "string",
                "example": "John Smith"
              },
              "enrolledStudents": {
                "type": "array",
                "description": "List of enrolled students in tutorial",
                "items": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "example": "Jessica Smith"
                    },
                    "studentId": {
                      "type": "integer",
                      "example": "z2183122"
                    }
                  }
                }
              },
              "maxCapacity": {
                "type": "integer",
                "example": 20
              }
            }
          }
        },
        "courseOutline": {
          "type": "file",
          "example": "course_outline.pdf"
        }
      }
    },
    "GetAllTopics": {
      "properties": {
        "topics": {
          "type": "array",
          "description": "List of all topics",
          "items": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "integer",
                "uniqueItems": true
              },
              "isPublic": {
                "type": "boolean"
              },
              "name": {
                "type": "string",
                "example": "Sorting"
              },
              "courseMaterials": {
                "type": "array",
                "items": {
                  "type": "files",
                  "example": "lecture3 - bubbleSort.mp4"
                }
              },
              "topicGroups":{
                "type": "array",
                "items": {
                  "type": "object",
                  "example": "Algorithm"
                }
              },
              "preRequisites": {
                "type": "array",
                "items": {
                  "type": "topic",
                  "example": "C++ Basics"
                }
              }
            }
          }
        }
      }
    },
    "GetAllTopicGroups": {
      "properties": {
        "TopicGroups": {
          "type": "array",
          "description": "List of all topic groups",
          "items": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "integer",
                "uniqueItems": true
              },
              "isPublic": {
                "type": "boolean"
              },
              "name": {
                "type": "string",
                "example": "Algorithms"
              },
              "topics": {
                "type": "array",
                "items": {
                  "type": "object",
                  "example": "sorting"
                }
              },
              "tutorialTimes": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "tutorialCode": {
                      "type": "string",
                      "example": "M18A2"
                    },
                    "timeSlot": {
                      "type": "dateTime",
                      "example": "10:00-11:00"
                    },
                    "tutor": {
                      "type": "string",
                      "example": "John Smith"
                    },
                    "enrolledStudents": {
                      "type": "array",
                      "description": "List of enrolled students in tutorial",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "example": "Jessica Smith"
                          },
                          "studentId": {
                            "type": "integer",
                            "example": "z2183122"
                          }
                        }
                      }
                    },
                    "maxCapacity": {
                      "type": "integer",
                      "example": 20
                    }
                  }
                }
              },
              "courseOutline": {
                "type": "file",
                "example": "course_outline.pdf"
              }
            }
          }
        }
      }
    },
    "GetPreRequisites": {
      "properties": {
        "topic": {
          "type": "string",
          "example": "Sorting"
        },
        "preRequisites": {
          "type": "array",
          "description": "List of pre-requisites for topic",
          "items": {
            "type": "object",
            "properties": {
              "_id": {
                "type": "integer",
                "uniqueItems": true
              },
              "isPublic": {
                "type": "boolean"
              },
              "name": {
                "type": "string",
                "example": "C++ Basics"
              },
              "courseMaterials": {
                "type": "array",
                "items": {
                  "type": "files",
                  "example": "lecture1 - data-structures.mp4"
                }
              },
              "topicGroups":{
                "type": "array",
                "items": {
                  "type": "object",
                  "example": "Introductory C++"
                }
              },
              "preRequisites": {
                "type": "array",
                "items": {
                  "type": "topic",
                  "example": "N/A"
                }
              }
            }
          }
        }
      }
    }
  }
}